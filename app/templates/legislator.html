{% extends "base.html" %}
{% block title %}Legislator Detail{% endblock %}
{% block content %}

    <div class="container" style="background-color: white">
        <h2 class="mt-3 mb-3">{{ legislator.name }}</h2>

        <p>Total votes: {{total_votes}}</p>
        <p>Supported: {{supports}} Bills.</p>
        <p>Opposed {{opositions}} Bills.</p>

        <h4 class="mt-3 mb-1">Bills Voted</h4>


        <table class="table">
        <thead>
          <tr>
            <th scope="col">Legislator</th>
            <th scope="col">Bill Title</th>
            <th scope="col">Vote</th>
          </tr>
        </thead>
        <tbody>

        {% for view_model in vote_result_view_models %}
            <tr>
            <td>{{ view_model.legislator_name }}</td>
            <td><a class="nav-link" href="{{ url_for('bill.bill', id=view_model.bill_id)}}">{{view_model.bill_title}}</a></td>
            <td>
                {% if view_model.vote_type == 1 %}
                    <button class="btn btn-success btn-sm" disabled>yay</button>
                {% else %}
                    <button class="btn btn-danger btn-sm" disabled>nay</button>
                {% endif %}
            </td>
            </tr>

        {% endfor %}

        </tbody>
      </table>
    </div>
{% endblock %}
